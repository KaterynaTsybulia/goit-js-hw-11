{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["\n\n\n\nexport function renderImages(image) {\n    return image.map(({largeImageURL, webformatURL, tags, likes, views, comments, downloads}) => `\n    \n    <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img\n            class=\"gallery-image\"\n            src=\"${webformatURL}\" \n            alt=\"${tags}\" \n            width=\"360\"\n            height=\"200\" \n          />\n        </a>\n        <div class =\"discribe-box\">\n          <ul class=\"discribe-list\">\n            <li class=\"discribe-item\">\n              <h2 class=\"discribe-title\">Likes</h2>\n              <p class=\"discribe-text\">${likes}</p>\n            </li>\n            <li class=\"discribe-item\">\n              <h2 class=\"discribe-title\">Views</h2>\n              <p class=\"discribe-text\">${views}</p>\n            </li>\n            <li class=\"discribe-item\">\n              <h2 class=\"discribe-title\">Comments</h2>\n              <p class=\"discribe-text\">${comments}</p>\n            </li>\n            <li class=\"discribe-item\">\n              <h2 class=\"discribe-title\">Downloads</h2>\n              <p class=\"discribe-text\">${downloads}</p>\n            </li>\n          </ul>\n        </div>\n      </li>\n    `).join(\"\");\n}\n\n\n","const apiParams = {\n    key: \"44994533-ffbdcdb8322be43f4ecb62ad3\",\n    q: \"\",\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n};\n\nexport function createApiQuery(formValue) {\n    apiParams.q = formValue;\n    const queryString = new URLSearchParams(apiParams).toString();\n    return `https://pixabay.com/api/?${queryString}`;\n}\n\nexport function fetchImages(apiQuery) {\n    return fetch(apiQuery)\n        .then((response) => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        })\n}\n\n\n\n\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { renderImages } from \"./js/render-functions\";\nimport { createApiQuery, fetchImages } from \"./js/pixabay-api\";\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captionDelay: 250,\n    captionPosition: \"bottom\",\n    captionsData: \"alt\",\n    captionSelector: 'img',\n    captionType: 'attr',\n});\n\nconst elements = {\n    searchForm: document.querySelector(\".js-search-form\"),\n    gallery: document.querySelector(\".js-gallery\"),\n    loader: document.querySelector(\".js-loader\"),\n};\n\nelements.searchForm.addEventListener(\"submit\", handlerSubmit);\n\nfunction handlerSubmit(event) {\n    event.preventDefault();\n\n    const form = event.currentTarget;\n    const formValue = form.elements.searchtext.value.toLowerCase().trim();\n    elements.gallery.innerHTML = \"\";\n    elements.loader.classList.add(\"loader\");\n\n    fetchImages(createApiQuery(formValue))\n        .then((data) => {\n            elements.loader.classList.remove(\"loader\");\n            const hits = data.hits;\n            if (hits.length === 0) {\n                showError();\n            } \n            elements.gallery.insertAdjacentHTML(\"beforeend\", renderImages(hits));\n            lightbox.refresh();\n        })\n        .catch(showError)\n        .finally(() => elements.searchForm.reset());\n\n}\n\nfunction showError(error) {\n    iziToast.error({\n        title: \"Error\",\n        message: \"Sorry, there are no images matching your search query. Please try again!\",\n    });\n}"],"names":["renderImages","image","largeImageURL","webformatURL","tags","likes","views","comments","downloads","apiParams","createApiQuery","formValue","fetchImages","apiQuery","response","lightbox","SimpleLightbox","elements","handlerSubmit","event","data","hits","showError","error","iziToast"],"mappings":"6vBAIO,SAASA,EAAaC,EAAO,CAChC,OAAOA,EAAM,IAAI,CAAC,CAAC,cAAAC,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAM;AAAA;AAAA;AAAA,wCAGzDN,CAAa;AAAA;AAAA;AAAA,mBAGlCC,CAAY;AAAA,mBACZC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCASkBC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,yCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,KAK7C,EAAE,KAAK,EAAE,CACd,CCvCA,MAAMC,EAAY,CACd,IAAK,qCACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EAEO,SAASC,EAAeC,EAAW,CACtC,OAAAF,EAAU,EAAIE,EAEP,4BADa,IAAI,gBAAgBF,CAAS,EAAE,SAAQ,CACb,EAClD,CAEO,SAASG,EAAYC,EAAU,CAClC,OAAO,MAAMA,CAAQ,EAChB,KAAMC,GAAa,CAChB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,CACT,CCbA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,IACd,gBAAiB,SACjB,aAAc,MACd,gBAAiB,MACjB,YAAa,MACjB,CAAC,EAEKC,EAAW,CACb,WAAY,SAAS,cAAc,iBAAiB,EACpD,QAAS,SAAS,cAAc,aAAa,EAC7C,OAAQ,SAAS,cAAc,YAAY,CAC/C,EAEAA,EAAS,WAAW,iBAAiB,SAAUC,CAAa,EAE5D,SAASA,EAAcC,EAAO,CAC1BA,EAAM,eAAc,EAGpB,MAAMR,EADOQ,EAAM,cACI,SAAS,WAAW,MAAM,YAAW,EAAG,OAC/DF,EAAS,QAAQ,UAAY,GAC7BA,EAAS,OAAO,UAAU,IAAI,QAAQ,EAEtCL,EAAYF,EAAeC,CAAS,CAAC,EAChC,KAAMS,GAAS,CACZH,EAAS,OAAO,UAAU,OAAO,QAAQ,EACzC,MAAMI,EAAOD,EAAK,KACdC,EAAK,SAAW,GAChBC,IAEJL,EAAS,QAAQ,mBAAmB,YAAajB,EAAaqB,CAAI,CAAC,EACnEN,EAAS,QAAO,CAC5B,CAAS,EACA,MAAMO,CAAS,EACf,QAAQ,IAAML,EAAS,WAAW,MAAO,CAAA,CAElD,CAEA,SAASK,EAAUC,EAAO,CACtBC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,0EACjB,CAAK,CACL"}